Git.
####

:date: 2015-02-11 
:tags: python, tutorial, tests
:slug: git
:category: tips
:authors: zdimon77@gmail.con


Ситуация когда у вас уже есть клон репозитория с которым вы работаете, делаете pull и смотрите что там какая то фигня накоммитчена от разработчиков.

Выбираем нужный бранч(ветку), у меня она master
git checkout master

делаем откат изменений в репозитории для примера на два коммита назад
git reset --hard HEAD~2

Можно сделать до какого то определенного коммита по хешу
git reset --hard hash
Хеш можно взять в вебинтерфейсе гитхаба.

Далее делаем принудительный коммит в основной репо на гитхабе
git push -f origin master
без -f будет ругаться что у вас версия младше чем в гитхабе и вам надо сделать pull



Создание меток для отметки важных моментов.

.. code-block:: Bash

    git tag -a v1.4 -m 'my version 1.4'

Просмотр меток.

.. code-block:: Bash

    git tag

Отметка уже пройденного комита

.. code-block:: Bash

    git tag -a v1.2 -m 'version 1.2' 9fceb02



По умолчанию, команда git push не отправляет метки на удалённые серверы. Необходимо явно отправить (push) метки на общий сервер после того, как вы их создали. Это делается так же, как и выкладывание в совместное пользование удалённых веток — нужно выполнить git push origin [имя метки].

Или так 

.. code-block:: Bash
    
    $ git push origin --tags


Изменение последнего коммита

.. code-block:: Bash
    
    git commit --amend


Убрать файл из индексации.

.. code-block:: Bash

    git reset HEAD <file>

